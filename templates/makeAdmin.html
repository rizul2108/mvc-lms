<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.css"
		/>
		<link rel="stylesheet" href="/css/signUp.css" />
		<title>Make Admin</title>
	</head>
	<body>
		<nav class="navbar navbar-expand-xl bg-body-tertiary">
			<div class="container-fluid">
				<a class="navbar-brand" href="/">Library</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<form action="/admin/books" method="GET">
					<input type="hidden" name="Username" value="<%= Username %>" />
					<button type="submit" class="btn-primary btn">
						Go Back
					</button>
				</form>	
			</div>
		</nav>
		<div class="container my-5">
			<div class="card" style="width: 40rem">
				<div class="card-body">
					<form action="/makeAdmin" method="POST" id="makeAdminForm">
						<h4>Enter New Admin's Details Here</h4>
						<div class="mb-3">
							<label for="Fullname" class="form-label">Full Name</label>
							<input
								type="text"
								class="form-control"
								id="Fullname"
								name="Fullname"
								required
							/>
						</div>
						<div class="mb-3">
							<label for="Username" class="form-label">Username</label>
							<input
								type="text"
								class="form-control"
								id="Username"
								aria-describedby="emailHelp"
								name="Username"
								required
							/>
						</div>
						<div class="mb-3">
							<label for="Password" class="form-label">Password</label>
							<input
								type="password"
								class="form-control"
								id="Password"
								name="Password"
								required
							/>
						</div>
						<div class="mb-3">
							<label for="PasswordC" class="form-label">Confirm Password</label>
							<input
								type="password"
								class="form-control"
								id="PasswordC"
								name="PasswordC"
								required
							/>
						</div>
						<button
							type="submit"
							class="btn btn-primary"
							onclick="confirmCreateAdmin()"
						>
							Make New Admin
						</button>
					</form>
				</div>
				<!-- <div id="alert" style="display: block; color: red; margin: 2%">
					<%= message %>
				</div> -->
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>
		<script>
			function confirmCreateAdmin() {
				event.preventDefault();
				Swal.fire({
					title: "Confirm New Admin",
					text: "Are you sure you want to create a new admin?",
					icon: "warning",
					showCancelButton: true,
					confirmButtonText: "Create Admin",
					cancelButtonText: "Cancel",
				}).then((result) => {
					if (result.isConfirmed) {
						document.getElementById("makeAdminForm").submit();
					}
				});
			}
		</script>
	</body>
</html>
